
![](../_resources/Pasted%20image%2020241126230523.png)
- Существуют стандартизованные совокупности команд, которые могут выполнять те или иные модели процессоров, т.н. архитектуры набора команд процессоров
- Данные архитектуры нужны в качестве универсальных стандартов, которых можно будет придерживаться при:
	- написании прикладных программ - программы, написанные на языках высокого уровня, транслируются в эти самые команды. без стандартизации была бы неразбериха: например, для конкретного языка программирования писался бы свой транслятор в процессорные команды(машинный код), причем в те команды, которые разработчики посчитают более "правильными"
	- при создании новых процессоров, способных выполнять новые команды - важно сохранять обратную совместимость, чтобы старые программы тоже могли выполняться на новых процессорах

![](../_resources/Pasted%20image%2020241126231339.png)
- Примеры архитектур набора команд:
	1. ***x86*** - архитектура процессоров ПК, ноутбуков
		![](../_resources/Pasted%20image%2020241126231452.png)
		- Данная архитектура берет начало с процессоров 8086. Благодаря единой архитектуре программа, написанная под 8086, будет выполнена и на core I7
	2. ***ARM*** - архитектура процессоров мобильных устройств
	3. ***AVR*** - архитектура процессоров разных микроконтроллеров и тп



![](../_resources/Pasted%20image%2020241126232239.png)

> **Разрядность процессора - величина машинного слова. Машинное слово - размер массива данных, которыми процессор обменивается с ОЗУ(то есть которые ходят по шине данных), которые кладет в регистры. Это также и максимальный размер регистра**

- С появлением 32-разрядных процессоров 80386 набор процессорных команд оформился как ***x86 архитектура***
- Далее AMD представили 64-разрядные процессоры, с полной обратной совместимостью, то есть поддерживались все команды 32-разрядных процессоров x86
> Полная обратная совместимость с x86 & разрядность 64 бита - причина названия ***x86-64*** для нового семейства процессоров, используемых и сегодня


![](../_resources/Pasted%20image%2020241126233901.png)
- Размер регистра кратен размеру ячейки памяти(байту) - чтобы по максимуму и ровно его заполнять


- Регистры бывают:
	1. ***Общего назначения***
		- Могут использоваться программистами как угодно, однако есть формальные соглашения, какой за что отвечает, что в него класть
		- Хранят переменные, аргументы функций, результаты вычислений
![](../_resources/Pasted%20image%2020241126234215.png)
- С ростом разрядности процессора росли и размеры регистров. Для сохранения обратной совместимости сохранялась прежняя организация регистров и их деление, + добавлялись доп биты

![](../_resources/Pasted%20image%2020241126234556.png)
- ***Сегментные регистры*** - хранят адреса памяти
- ***Регистры для работы со стеком*** - хранят указатели на фрейм, на начало аппаратного стека
- ***Флаговые регистры*** - содержат различные биты, которые отражают состояние результата предыдущей операции
- ***Указатель команд*** - содержит адрес операции, которую нужно выполнить следующей
	- **Регистр PC (Program Counter — счётчик программ)** — **64-битный регистр, который содержит адрес текущей инструкции**. [1](https://metanit.com/assembler/arm64/2.1.php)
		Перед выполнением каждая инструкция загружается из области памяти, на которую ссылается регистр PC. После выполнения инструкции PC автоматически переходит к следующей инструкции
	-


![](../_resources/Pasted%20image%2020241128225339.png)
- Язык ассемблера - состоит из символического обозначения машинных команд
- Ассемблер - транслятор этих команд непосредственно в машинный код - двоичные команды, которые соответствуют этим самым командам(перечень которых зависит от архитектуры процессора)
- То есть ассемблер - язык, который состоит из набора команд для определенных семейств процессоров



- Инструкция - команда - опкод -- специальное число, размером от 1-ого до нескольких байт, закодированное таким образом, чтобы процессор понял, что ему нужно сделать


![](../_resources/Pasted%20image%2020241128235108.png)
- Передать управление команде = сказать процессору, на какой адрес перепрыгнуть, чтобы исполнить следующую команду

##### Механизм трансляции адресов
![](../_resources/Pasted%20image%2020241128235457.png)
- Режим реальных адресов - адрес, сформированный программой, является реальным, не требует никаких преобразований




1. привелегированный уровень - полный доступ к процессору
2. пользовательский уровень - уровень прикладных программ с ограничением доступа к некоторым участкам памяти, регистрам, командам

![](../_resources/Pasted%20image%2020241129001619.png)

- защищенный режим(32-битный) и 64-битный режим
![](../_resources/Pasted%20image%2020241129002219.png)
![](../_resources/Pasted%20image%2020241129002621.png)

##### Виды прерываний
![](../_resources/Pasted%20image%2020241129002802.png)
