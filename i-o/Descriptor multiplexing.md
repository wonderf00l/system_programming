
- ***Мультиплексирование дескрипторов*** - работа с нескольмими дескрипторами "сразу", то есть не блокируясь на одном из в бесконечном ожидании байт данных из дескриптора
- Способы мельтиплексирования
	1. Слияние дескрипторов в один и работа с одним дескриптором
	2. Работа с несколькими дескрипторами

![](../_resources/Pasted%20image%2020250109001458.png)
- Сложность обслуживания дескрипторов таким образом - O(N), N - число дескрипторов
- Причем если дескриптор был обработан, получили ошибку отсутствия данных, а на след итерации они появились, дескриптор будет обработан повторно только через N итераций
- Каждая из итераций - системный вызов на чтение данных из дескриптора, лишние походы в ядро

![](../_resources/Pasted%20image%2020250112160819.png)

#### Select
![](../_resources/Pasted%20image%2020250112160923.png)
- ***Select()*** блокируется в ожидании соответствующего события на одном из дескрипторов
- Не слишком удобный API: max 1024 дескриптора, неявное поведение с timeout, повторное формирование наборов дескрипторов по событиям

Пример: http://github.com/sysprogio/sysprog/blob/master/lecture_examples/9_aio/4_server_select.c

- Общий принцип работы:
	- регистрация наборов дескрипторов на чтение/запись/появление ошибок перед каждым вызовом select
	- ***errorfds*** - сюда добавляем дескрипторы, если нужно оперативно обрабатывать ошибки, связанные с ними
	- получение события или таймаут
	- проверка нужных дескрипторов на наличие события, обработка события


